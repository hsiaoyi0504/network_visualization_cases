doctype html
<html>
  <head>
    <title> #{title}</html>
    <style link="style.css">
    script
      include js/cytoscape.js
  </head>
  body
    h1 #{message}
    #cy
    #control
      p Type in the number of nodes: 
        div#nodeControl
          p#nodeNum
          input#nodeNumInput(type='number')
          button update
    script(type='text/javascript').
        var elements = !{JSON.stringify(elements)};
        var cy = cytoscape({
            container: document.getElementById('cy'), // container to render in

            elements: elements, //list of graph elements to start with

            style: [ // the stylesheet for the graph
                {
                  selector: 'node',
                  style: {
                    'background-color': '#666',
                    'label': 'data(id)'
                  }
                },
                {
                  selector: 'edge',
                  style: {
                    'curve-style': 'haystack',
                    'width': 3,
                    'line-color': '#ccc',
                    'target-arrow-color': '#ccc',
                    'target-arrow-shape': 'triangle'
                  }
                }
            ],

            layout: {
                name: 'cose',
                rows: 30
            }

        });
        var collection = cy.elements("node[weight > 50]");
        eles=cy.remove("node[weight > 50]");
        eles.restore();
        document.getElementById('nodeNumInput').value = cy.elements("node[weight > 0]").size();
        document.getElementById('nodeNum').innerHTML = '(Maximum:' + cy.elements("node[weight > 0]").size() +')';
</html>